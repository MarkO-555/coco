<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=us-ascii">
<TITLE>F:\MYDOCU~1\SCHEDU~2\OS-9 L-II Technical Reference Ch 8 Pg 101-126.htm</TITLE>
<META NAME="GENERATOR" CONTENT="ADOBE SYSTEMS, INC. - WORD FOR WORD">
</HEAD>

<BODY>
<BASEFONT SIZE="3">
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>Privileged System </U>M<U>ode Cal</U>ls l 8
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Return 64  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Deallocates a 64-byte<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
OS9 F$Ret64 103E 31 block of memory<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
A 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>= block number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = address of the base page<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>CC = carry set on error<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code (if any)<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
See 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>the </I>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
Allocate 64 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>system call for more </I>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
information.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000000.JPG" WIDTH="289" HEIGHT="2">
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
8-101<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>OS-9 Technical Reference<BR>
</U></I>
</FONT>
<FONT SIZE="6" FACE="Garamond" COLOR="#000000">
<B>Set </B>
</FONT>
<FONT SIZE="6" FACE="Garamond1" COLOR="#000000">
<B><U>Process DAT </B></U>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<U>Copies all or part of<BR>
</U>
</FONT>
<FONT SIZE="6" FACE="Garamond" COLOR="#000000">
<B>Image </B>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
the DAT image into a<BR>
 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
process descriptor<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
F$SetImg 103E 3C<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Condition:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = starting image block number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = block count<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = process descriptor pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>U  = new image pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
code (if any)<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
While copying part or all of the DAT image, this system
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
call also sets an image change flag in the process descrip
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
tor. This flag guarantees that as a process returns from
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the system call. The call updates the hardware to match
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the new process DAT image.
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The support module for this call is OS9p1.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000001.JPG" WIDTH="18" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000002.JPG" WIDTH="18" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000003.JPG" WIDTH="14" HEIGHT="7">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-102<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<U>Privileged System Mode C</U>alls l 8
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="6" FACE="Garamond" COLOR="#000000">
<B>Set P</B>
</FONT>
<FONT SIZE="6" FACE="Garamond1" COLOR="#000000">
<B><U>rocess Task </U></B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Writes to <U>the hardware<BR>
</U>
</FONT>
<FONT SIZE="6" FACE="Garamond" COLOR="#000000">
<B>DAT Registers </B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
DAT registers<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
F$SetTsk 103E 41<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = pointer to process descriptor<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code (if </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
any)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
This system call sets the process task hardware DAT regis
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ters, and clears the image change flag in the process
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
descriptor. It also writes to DAT RAM the process's seg
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ment address information.
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; The support module for this call is OS9p1.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000004.JPG" WIDTH="24" HEIGHT="6">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-103<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<H2 ALIGN="LEFT">
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
System Link
</FONT>
</H2>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
F$SLink 103E 34<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Adds a module from<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
outside the current<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
address space into<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
current address space<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000005.JPG" WIDTH="20" HEIGHT="3">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = module type<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = module name string pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y = name string DAT image pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
A<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
B<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
X<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Y<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
U<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000006.JPG" WIDTH="10" HEIGHT="44">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>module type<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>module revision (if no error)<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>updated name string pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>module entry point<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>module pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
B 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>= error code (If </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
an error occurs)<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The I/O System uses the System Link call to link into the<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
current process's address space those modules specified by a<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
device name in a user call. User calls such as Create File<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
and Open Path use this System Link.<BR>
<BR>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The support module for this call is OS9p 1.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000007.JPG" WIDTH="22" HEIGHT="5">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
s-104<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000008.JPG" WIDTH="30" HEIGHT="3">
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Privileged System Mode Calls / 8<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000009.JPG" WIDTH="20" HEIGHT="5">
<BR>
<H2 ALIGN="LEFT">
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Request System
</FONT>
</H2>
<H2 ALIGN="LEFT">
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Memory
</FONT>
</H2>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
OS9 F$SRqMem 103E 28<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>D = byte count<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>U = starting address of the memory area<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>D = new memory size<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code (if </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
any)<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Allocates a block of<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
memory of the<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
specified size from the<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
top of available RAM<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The Request System Memory call rounds the size request<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
to the next page boundary.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
This call allocates memory only for system address space.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-105<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>OS-9 Technical Reference<BR>
</U></I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Return System 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Deallocates a block of<BR>
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Memory 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
contiguous pages<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
OS9 F$SRtMem 103E 29<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>U = starting address of memory to return; </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
must point to an
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
even page boundary
</UL>
</UL>
</UL>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>D = number of bytes to return<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code (if </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
any)<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
~ Register U must point to an even page boundary.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
~ This call deallocates memory for system address space only.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000010.JPG" WIDTH="18" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000011.JPG" WIDTH="18" HEIGHT="4">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000012.JPG" WIDTH="300" HEIGHT="1">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-106<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000013.JPG" WIDTH="38" HEIGHT="1">
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>Privileged System Mode Calls / 8
</UL>
</UL>
</UL>
</UL>
<BR>
</U></I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Set SVC  
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Adds or replaces a
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
OS9 F$SS.~ vc 103E 32  system call
</UL>
<BR>
<BR>
 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
  
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y  = address of the system call<BR>
    </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>initialization table<BR>
 </I>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = C bit set<BR>
  
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B  = error code<BR>
 </I>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; Set SVC adds or replaces a system call, which you have<BR>
   
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
written, to OS-9's user and system mode system call tables.<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; Register Y passes the address of a table, which contains the<BR>
   
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
function codes and offsets, to the corresponding system call<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&deg;handler routines. This table has the following format:<BR>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Relative Use
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Address
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$00
</UL>
</UL>
</UL>
<BR>
  <UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Function Code 
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
4- 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
First entry
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$01  Offset From Byte 3
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$02 To Function Handler
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$03  Function Code  Second entry
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$04  Offset From Byte 6
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$05 To Function Handler
</UL>
</UL>
</UL>
<BR>
  <UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
More Entries 
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
4- 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
More entries
</UL>
</UL>
</UL>
<BR>
  <UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$80 
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
4- 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
End-of-table mark
</UL>
</UL>
</UL>
<BR>
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-107
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000014.JPG" WIDTH="17" HEIGHT="2">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
If the most significant bit of the function code is set, OS-9
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
updates the system table.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
If the most significant bit of the function code is not set,
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
OS-9 updates the system and user tables.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The function request codes are in the range $29-$34. IO
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
calls are in the range $80-$90
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
To use a privileged system call, you must be executing a
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
program that resides in the system map and that executes
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
in the system state.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The system call handler routine must process the system
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
call and return from the subroutine with an RTS
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
instruction.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The handler routine might alter all CPU registers (except
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Register SP).
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Register U passes the address of the register stack to the
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
system call handler as shown in the following diagram:
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Relative Name
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Address
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<UL>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
U CC $00  R$CC
</UL>
<BR>
   <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$01 R$D
</UL>
<BR>
 <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A  $01 R$A
</UL>
<BR>
 <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B  $02 R$B
</UL>
<BR>
 <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
DP $03  R$DP
</UL>
<BR>
  <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
X $04 R$X
</UL>
<BR>
  <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Y $06 R$Y
</UL>
<BR>
  <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
U $08 R$U
</UL>
<BR>
  <UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
PC $OA R$PC
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Codes $70-$7F are reserved for user definition.
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-108<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000015.JPG" WIDTH="20" HEIGHT="3">
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>Privileged System Mode Calls l 8
</UL>
</UL>
</UL>
</UL>
<BR>
</U></I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
 
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Store A Byte 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Stores A at O,X in<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
rIn 
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
A Task 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Task B<BR>
<UL>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
F$STABX 103E 4A
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:
</UL>
<BR>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A = byte to store
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = destination </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
task 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>number
</UL>
</UL>
<BR>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = logical destination </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
address
</UL>
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Error Output:
</UL>
<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code (if any)
</UL>
</UL>
<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:
</UL>
<BR>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; This system call is similar to the assembly language
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
instruction "STA O,X". The difference is that in the system
</UL>
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
call, X refers to an address in the given task's address
</UL>
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
space, instead of the current address space.
</UL>
</UL>
</UL>
</UL>
<BR>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
t The support module for this system call is OS9p1.
</UL>
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-109<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000016.JPG" WIDTH="306" HEIGHT="5">
<BR>
<H2 ALIGN="LEFT">
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Install virtual
</FONT>
</H2>
<H2 ALIGN="LEFT">
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
interrupt
</FONT>
</H2>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
OS9 F$VIRQ 103E 27<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Installs a virtual<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
interrupt handler<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
routine<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000017.JPG" WIDTH="22" HEIGHT="6">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
D<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
X<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000018.JPG" WIDTH="37" HEIGHT="38">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>initial count value<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 to delete entry<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
1 to install entry<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>address of 5-byte packet<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = appropriate error code<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Install VIR(a for use with devices in the Multi-Pak Expan<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
sion Interface. This call is explained in detail in Chapter 2.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000019.JPG" WIDTH="18" HEIGHT="4">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000020.JPG" WIDTH="22" HEIGHT="5">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-110<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>Privileged System Mode Calls / 8<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<H2 ALIGN="LEFT">
</FONT>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
Validate Module
</FONT>
</H2>
<FONT SIZE="6" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
OS9 F$VModul 103E 2E<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Checks the module<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
header parity and CRC<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
bytes of a module<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>D = DAT image pointer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = new module block offset<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>U = address of the module directory entry<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(if any)<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000021.JPG" WIDTH="20" HEIGHT="3">
<BR>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
If the values of the specified module are valid, OS-9<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
searches the module directory for a module with the same<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
name. If one exists, OS-9 keeps in memory the module that<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
has the higher revision level. If both modules have the save<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
revision level, OS-9 retains the module in memory.<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000022.JPG" WIDTH="22" HEIGHT="6">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000023.JPG" WIDTH="306" HEIGHT="14">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>OS-9 Technical Reference<BR>
</U></I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<B>Get Status System Calls<BR>
</B>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
You use the Get Status system calls with the RBF manager sub<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
routine GETSTA. The OS-9 Level Two system reserves function<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Codes 7-127 for use by Microware. You can define Codes 128-255<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
and their parameter-passing conventions for your own use. (See<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the sections on device drivers in Chapters 4, 5, and 6.)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The Get Status routine passes the register stack and the speci<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
fied function code to the device driver.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Following are the Get Status functions and their codes.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>SS.OPT<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code $00). </B>Reads the option section of the path<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
descriptor, and copies it into the 32-byte area pointed to by Reg<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ister X<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = $00<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = address to receive status packet<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Error Output:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(if any)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Use SS.OPT to determine the current settings for editing
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
functions, such as echo and auto line feed.
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000024.JPG" WIDTH="20" HEIGHT="4">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-112<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000025.JPG" WIDTH="10" HEIGHT="5">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
System Calls / 8<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.RDY<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000026.JPG" WIDTH="16" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000027.JPG" WIDTH="18" HEIGHT="2">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function code $O1). Tests for data available on SCF-supported<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
devices<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>path number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>$01<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
If the device is ready:<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry clear<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $00<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
If the device is not ready:<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $F6 (E$SRNDY)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = error 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>code<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.SIZ<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<I>AC-TA P </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
~'.~C A1. s o<BR>
<BR>
<H1 ALIGN="LEFT">
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<I>('o ThE </I>
</FONT>
<FONT SIZE="7" FACE="Times Roman" COLOR="#000000">
<I>Y ~,! &deg;</I>
</FONT>
</H1>
</I><FONT SIZE="7" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
6 S' tS<BR>
<BR>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<I>S S&middot; IeQ SAY<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<I>it P7vlrAr a4( </I>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<I>BY7Es<BR>
</I>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<I>Cc = c L Cr 41?<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
<H1 ALIGN="LEFT">
</FONT>
<FONT SIZE="7" FACE="Times Roman" COLOR="#000000">
<I>B Eiv~</I>
</FONT>
</H1>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<I>~i,P6A*ora ypA.W.oD </I>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
<B><U>oft</U>d.E </B>
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
ad<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function code $02). Gets the current file size on a RBF-sup<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ported devices only<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = $02<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = most significant 16 bits of the current ale size<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>U = least significant 16 bits of the current file size<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error code </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(if any)<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>8-113<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>SS.POS<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function code $05). Gets the current file position (RBF-sup<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ported devices only)<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $05<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>X = most significant 16 bits of the current file position<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>U = least significant 16 bits of the current file position<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = error <I>code (if </I>any)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.EOF<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function code $06). Tests for the end <I>of </I>the file (EOF)<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $06<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>If </I>there is no EOF:<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC =carry clear<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $00<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>If </I>there is an EOF:<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC =carry set<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $D3 (E$EOF)<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Error Output:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC =carry set<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = error <I>code<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-114<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000028.JPG" WIDTH="20" HEIGHT="4">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000029.JPG" WIDTH="18" HEIGHT="3">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<U>System Calls / 8<BR>
</U>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000030.JPG" WIDTH="300" HEIGHT="1">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.DevNm<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function Code $OE). Returns a device name<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A = path 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>number<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $OE<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = address </I>
</FONT>
<FONT SIZE="3" FACE="Tahoma1" COLOR="#000000">
<I>of </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>32 -byte buffer for name<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = address of buffer, name moved to buffer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>SS.DSTAT<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function code $12). Returns the display status<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A = path 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>number<BR>
 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $12<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A = color 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>code </I>
</FONT>
<FONT SIZE="3" FACE="Tahoma1" COLOR="#000000">
<I>of </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>the pixel at the cursor address<BR>
 </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = address </I>
</FONT>
<FONT SIZE="3" FACE="Tahoma1" COLOR="#000000">
<I>of </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>the graphics display memory<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y = graphics cursor address; X = M</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SB, Y = LSB<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Additional Information:<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
This function is supported only the the VDGINT module
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
and deals with VDG-compatible graphics screens. See
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.AAGBf for information regarding Level Two operation.
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000031.JPG" WIDTH="19" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000032.JPG" WIDTH="302" HEIGHT="2">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-115<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000033.JPG" WIDTH="302" HEIGHT="1">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>SS.JOY<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(Function code $13). Returns the joystick values<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $13<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = joystick number<BR>
  </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 = (right joystick)<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
1 = (left joystick)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = fire button down<BR>
  </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 = none<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
1 = Button 1<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
2 = Button 2<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
3 = Button 1 and Button 2<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = selected joystick x value (0-63)<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y = selected joystick y value (0-63)<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = fire </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
button status<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$FF = fire button is on<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$00 = fire button is off<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000034.JPG" WIDTH="18" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000035.JPG" WIDTH="20" HEIGHT="3">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-116<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<U>System Calls l 8
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
</U>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.A1faS
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code </B>$1C). Returns VDG alpha screen memory
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
information
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:
</UL>
<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number
</UL>
</UL>
<BR>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = $1C
</UL>
</UL>
<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Exit Conditions:
</UL>
<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = caps lock status
</UL>
</UL>
<BR>
  <UL>
<UL>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$00 = lower case
</UL>
</UL>
<BR>
  <UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
$FF = upper case
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
X = memory 
</FONT>
<FONT SIZE="2" FACE="Tahoma1" COLOR="#000000">
<I>address of </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>the buffer
</UL>
</UL>
<BR>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Y = memory 
</FONT>
<FONT SIZE="2" FACE="Tahoma1" COLOR="#000000">
<I>address of </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>the cursor
</UL>
</UL>
<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:
</UL>
<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>SS.A1faS </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
maps the screen into the user address space. The
</UL>
</UL>
<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
call requires a full block of memory for screen mapping.<BR>
 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
This call is only for use with VDG text screens handled by<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
i- VDGINT.<BR>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
~ The support module for this call is VDGINT.
</UL>
</UL>
<BR>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Warning: </B>Use extreme care when poking the screen, since
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
other system variables reside in screen memory. Do not
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
change any addresses outside of the screen.
</UL>
</UL>
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000036.JPG" WIDTH="302" HEIGHT="2">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-117<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>SS.Cursr<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code </B>$25). Returns VDG alpha screen cursor<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
information<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>B = $25<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Exit Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>A = character code of the character at the current cursor
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>address
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>X = cursor X position (column)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>Y = cursor Y position (row)
</UL>
</UL>
</UL>
<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; SS.Cursor returns the character at the current cursor posi
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
tion. It also returns the X-Y address of the cursor relative
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
to the current device's window or screen. SS.Cursor works
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
only with text screens.
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; The support module for this call is VDGINT.<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000037.JPG" WIDTH="20" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000038.JPG" WIDTH="20" HEIGHT="4">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000039.JPG" WIDTH="302" HEIGHT="1">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-118<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
System Calls / 8<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000040.JPG" WIDTH="302" HEIGHT="2">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000041.JPG" WIDTH="54" HEIGHT="10">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code </B>26). Returns the window or screen size<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000042.JPG" WIDTH="18" HEIGHT="3">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000043.JPG" WIDTH="22" HEIGHT="7">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000044.JPG" WIDTH="20" HEIGHT="5">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000045.JPG" WIDTH="26" HEIGHT="1">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B<BR>
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>path number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>$26<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Exit Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000046.JPG" WIDTH="16" HEIGHT="20">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>number of columns on screenlwirulow<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>number of rows on screen/window<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; Use this call to determine the size of an output screen. The
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
values returned depend on the device in use:
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
For non-CCIO devices, the call returns the values follow
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ing the XON/XOFF bytes in the device descriptor.
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
For CCIO devices, the call returns the size of the window
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
or screen in use by the specified device.
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
For window devices. the call returns the size of the cur
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
rent working area of the window.
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; The support modules for this call are VDGINT, GrfInt, and
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
WindInt.
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000047.JPG" WIDTH="302" HEIGHT="1">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-119<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>SS.KySns<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code $27). </B>Returns key down status<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = $27<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Exit Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = keyboard scan information<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="1" FACE="Arial Narrow" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Accumulator A returns with a bit pattern representing
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
eight keys. With each keyboard scan, OS9 updates this bit
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
pattern. A set bit (1) indicates that a key was pressed since
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the last scan. A clear bit (0) indicates that a key was not
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
pressed. Definitions for the bits are as follows:
</UL>
</UL>
<BR>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Bit Key
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="1" FACE="Arial Narrow1" COLOR="#000000">
SHIFT
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
1 
</FONT>
<FONT SIZE="1" FACE="Arial Narrow1" COLOR="#000000">
CTRL 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
or 
</FONT>
<FONT SIZE="1" FACE="Arial Narrow1" COLOR="#000000">
CLEAR
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>2 </I>
</FONT>
<FONT SIZE="1" FACE="Arial Narrow1" COLOR="#000000">
ALT 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>or CE
</UL>
</UL>
<BR>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>3 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>0 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(up arrow)
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>4 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>0 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(down arrow)
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>5 </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>C] </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(left arrow)
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>6 F:i:l </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(right arrow)
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
7 Space Bar
</UL>
</UL>
<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The bits can be masked with the following equates:
</UL>
<BR>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SHIFTBIT equ %00000001
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CNTRLBIT equ %00000010
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ALTERBIT equ %00000100
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
UPBIT equ %00001000
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
DOWNBIT equ %00001000
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
LEFTBIT equ %00100000
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
RIGHTBIT equ %01000000
</UL>
</UL>
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SPACEBIT equ % 10000000
</UL>
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="1" FACE="Arial Narrow" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The support module for this call is CC310.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-120<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000048.JPG" WIDTH="20" HEIGHT="4">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000049.JPG" WIDTH="20" HEIGHT="4">
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond11" COLOR="#000000">
System Calls / 8
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>SS.Comst<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>(Function code </B>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
$28). Return serial port configuration<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
information<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
B = $28<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>Exit Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y = high byte: parity
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>low byte: baud rate
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
(See the Setstat call SS.ComSt for values)
</UL>
</UL>
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>Error Output:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
B = error 
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>code </I>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
(if any)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
The SCF manager uses this call when performing an
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
SS.Opt Getstat on an SCF-type device. User calls to
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
SS.ComSt do not update the path descriptor. Use the
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
SS.OPT Getstat call for most applications, because it auto
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
matically updates the path descriptor.
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000050.JPG" WIDTH="20" HEIGHT="5">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000051.JPG" WIDTH="302" HEIGHT="2">
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
8-121<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I><U>OS-9 Technical Refe</U>r<U>ence<BR>
</U></I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.MpGPB<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code </B>$84). Maps the Get/Put buffer into a user<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
address space<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>A = path number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = $84<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = high byte: buffer group number<BR>
  </I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>low byte: buffer number<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y = action to take<BR>
   </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
1 = map buffer<BR>
   
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 = unmap <B>buffer<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Exit Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>X = address of the mapped buffer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>Y = number of bytes in buffer<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Error Output:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<I>B = error </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
code (if any)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; The support modules for this call are GrfTnt and WindInt.<BR>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; SS.MpGPB maps a Get/Put buffer into the user address
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
space. You can then save the buffer to disk or directly mod
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ify the pixel data contained in the buffer. Use extreme care
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
when modifying the buffer so that you do not write outside
</UL>
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
of the buffer data area.
</UL>
<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000052.JPG" WIDTH="18" HEIGHT="3">
<BR>
</FONT>
<FONT SIZE="2" FACE="Times Roman" COLOR="#000000">
<B>8-122<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
System Calls / <B>8<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>SS.MnSel<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000053.JPG" WIDTH="18" HEIGHT="3">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000054.JPG" WIDTH="24" HEIGHT="7">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000055.JPG" WIDTH="20" HEIGHT="6">
<BR>
<P ALIGN="JUSTIFY">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code $87). </B>Requests that the high-level menu handler
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
take control of menu selection
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Entry Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A = path 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>number<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $87<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Exit Conditions:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
A = menu 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>ID </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(if valid selection)
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 (if invalid selection)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = item 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>number of menu </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
(if valid selection)
</UL>
</UL>
</UL>
<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Error Output:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = error 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>code (if </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
invalid selection)<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Additional Information:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; After detecting a valid mouse click (when the mouse is
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
pointing to a control area on a window), a process needs to
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
call SS.MnSel. This call tells the enhanced window inter
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
face to handle any menu selection being made. 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>If </I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
accumula
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
tor A returns with 0, then no selection has been made. The
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
calling process needs to test and handle other returned
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
values.
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; A condition where Register A returns a valid menu ID
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
number and Register B returns 0 signals the selection of a
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
menu with no items. The application can now take over and
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
do a special graphics pull down of its own. The menu title
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
remains highlighted until the application calls the
</FONT>
</P>
<P ALIGN="JUSTIFY">
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
SS.UMBar SetStat to update the menu bar.
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
&middot; The support module for this call is WindInt.<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-123<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 Technical Reference<BR>
</I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000056.JPG" WIDTH="302" HEIGHT="2">
<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>SS.Mouse<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>(Function code </B>$89). Gets mouse status<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Entry Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
A = path 
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
number<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = $89<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
X = data storage area address<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Y = mouse port select:<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
0 = automatic selection<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
1 = right side<BR>
  
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
2 = left side<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Exit Conditions:<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
X = data storage area address<BR>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Error Output:<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
CC = carry set on error<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
B = error code (if any)<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000057.JPG" WIDTH="20" HEIGHT="4">
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000058.JPG" WIDTH="20" HEIGHT="4">
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
V~ ~ I~ I~f ~ ~ ~
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
T 
</FONT>
<FONT SIZE="4" FACE="Times Roman" COLOR="#000000">
k ~ ~Z ~
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="2" FACE="Garamond" COLOR="#000000">
<I>~' Y ?`~s I~ ~rwEE
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</I>
</FONT>
<FONT SIZE="2" FACE="Garamond" COLOR="#000000">
<I>p l'. T `a ~`~ ~ ~ T. *'r`To
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
</I>
</FONT>
<FONT SIZE="2" FACE="Garamond" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-124<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B><U>System Calls / 8
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
</U></B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>Additional Information:
</UL>
<BR>
</B>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="1" FACE="Times Roman" COLOR="#000000">
0 
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
SS.Mouse returns information on the current mouse and its
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
fire button. The following list defines the 32-byte data
</UL>
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
packet that SS.Mouse creates:
</UL>
</UL>
</UL>
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
PtNalid rmb 1 Is returned info valid? (0 = no,
</UL>
</UL>
</UL>
<BR>
  <UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
1= yes)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.Actv rmb 1 Active side (0 = off, 1 = right, 2 =
</UL>
</UL>
</UL>
<BR>
  <UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
left)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.ToTm rmb 1 Timeout initial value
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.TTTo rmb 1 Time until timeout
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.TSSt rmb 2 Time since counter start
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.CBSA rmb 1 Current button state (Button A)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.CBSB rmb 1 Current button state (Button B)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.CCtA rmb 1 Click count (Button A)
</UL>
</UL>
</UL>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.CCtB rmb 1 Click count (Button B)
</UL>
</UL>
</UL>
<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.TTSA rmb 1 Time this state counter (Button A)<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.TTSB rmb 1 Time this state counter (Button B)<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.TLSA rmb 1 Time last state counter (Button A)<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.TLSB rmb 1 Time last state counter (Button B)<BR>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
,&middot;~'  rmb 2 RESERVED<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.BDX rmb 2 Button down frozen Actual X<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt. BDY rmb 2 Button down frozen Actual Y<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.Stat rmb 1 Window pointer type location<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.Res rmb 1 Resolution (0-640 by 0 =10/1=1)<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.AcX rmb 2 Actual X value<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt.AcY rmb 2 Actual Y value<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt. WRX rmb 2 Window relative X<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt. WRY rmb 2 Window relative Y<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Pt. Siz equ . Packet size 32 bytes<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
SPt.SRX rmb 2 System use, screen relative X<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
SPt. SRY rmb 2 System use, screen relative Y<BR>
 
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
SPt.Siz equ . Size of packet for system use<BR>
<BR>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
Button Information:
</UL>
</UL>
</UL>
<BR>
<BR>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
<B>PtNalid. </B>
</FONT>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
The valid byte gives the caller an indication of
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
whether the information contained in the returned packet
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
is accurate. The information returned by this call is only
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
valid if the process is running on the current interactive
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
window. If the process is on a non-interactive window, the
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
byte is zero and the process can ignore the information
</UL>
</UL>
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<UL>
<UL>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
returned.
</UL>
</UL>
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Garamond1" COLOR="#000000">
<BR>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
<UL>
</FONT>
<FONT SIZE="3" FACE="Garamond" COLOR="#000000">
8-125
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL>
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<I>OS-9 <U>Technical Reference<BR>
</U></I>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.Actv. </B>This byte shows which port is selected for use by
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
all mouse functions. The default value is Right (1) . You can
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
change this value with the SS.GIP Setstat call.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.ToTm. </B>This is the count down value (as of the instant
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the Getstat call is made). This value starts at the value
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
contained in the Pt.ToTm and counts down to zero at a rate
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
of 60 counts per second. The system maintains all counters
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
until this value reaches 0, at which point it sets all
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
counters and states to 0. The mouse scan routine changes
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
into a quiet mode which requires less overhead than when
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the mouse is active. The timeout begins when both buttons
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
are in the up (open) state. The timer is reinitialized to the
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
value in Pt.ToTm when either button goes down (closed).
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.TSSt. </B>This counter is constantly increasing, beginning
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
when either button is pressed while the mouse is in the
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
quiet state. All counts are a number of ticks (60 per sec
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ond). The timer counts to $FFFF, then stays at that value
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
if additional ticks occur.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.CBSA. </B>These flag bytes indicate the state of the button
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.CBSB. </B>at the last system clock tick. A value of 0 indi
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
cates that the button is up (open). A value other than zero
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
indicates that the button is down (closed). Button A is
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
available on all Tandy joysticks and mice. Button B is only
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
available for products that have two buttons.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
The system scans the mouse buttons each time it scans the
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
keyboard.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.CCtA. </B>This is the number of clicks that have occurred
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.CCtB. </B>since the mouse went into an active state. A
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
click is defined as pressing (closing) the button, then releas
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
ing (opening) the button. The system counts the clicks as
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the button is released.
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
<P ALIGN="JUSTIFY">
<UL>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.TTSA. </B>This counter is the number of ticks that have
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<B>Pt.TTSB. </B>occurred during the current state, as defined by
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
Pt. CBSx. This counter starts at one (counts the tick when
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
the state changes) and increases by one for each tick that
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
occurs while the button remains in the same state (open or
</UL>
</FONT>
</P>
<P ALIGN="JUSTIFY">
<UL>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
closed).
</UL>
</FONT>
</P>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
<BR>
</FONT>
<FONT SIZE="3" FACE="Times Roman" COLOR="#000000">
8-126<BR>
<IMG SRC="file:///F:\MYDOCU~1\SCHEDU~2\GR000059.JPG" WIDTH="24" HEIGHT="6">
</FONT>
</BODY>
</HTML>
